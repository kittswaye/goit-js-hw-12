{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export default function searchPicture(keyword) {\n    const API_KEY = '44204846-4ec433e2c1cc73895dee1a984';\n    const API_URL = 'https://pixabay.com/api/';\n    const searchParams = new URLSearchParams({\n        key: API_KEY,\n        q: keyword,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true\n    });\n\n    return fetch(`${API_URL}?${searchParams}`\n    )\n    .then((response) => {\n        if (!response.ok) {\n            throw new Error(response.status);\n        }\n        return response.json();\n    });\n}\n","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\nexport function renderPictures(images) {\n    const htmlFragment = document.createDocumentFragment();\n    const gallery = document.querySelector('ul.gallery');\n\n    images.hits.forEach(el => {\n        htmlFragment.appendChild(createGalleryItem(el.webformatURL, el.largeImageURL, el.tags, el.likes, el.views, el.comments, el.downloads));\n    });\n\n    gallery.appendChild(htmlFragment);\n\n    var lightbox = new SimpleLightbox('.gallery a', {\n      captions: true,\n      captionDelay: 250,\n      captionsData: 'alt'\n    });\n\n    lightbox.refresh();\n}\n\nexport function clearGallery() {\n    const gallery = document.querySelector('ul.gallery');\n    gallery.innerHTML = '';\n}\n\nfunction createGalleryItem(smallImg, largeImg, description, likes, views, comments, downloads) {\n    const liElement = document.createElement('li');\n    liElement.className = 'gallery-item';\n\n    const divUp = document.createElement('div');\n    divUp.className = 'gallery-div-up';\n\n    const aElement = document.createElement('a');\n    aElement.className = 'gallery-link';\n    aElement.href = largeImg;\n\n    const imgElement = document.createElement('img');\n    imgElement.className = 'gallery-image';\n    imgElement.src = smallImg;\n    imgElement.alt = description;\n    aElement.appendChild(imgElement);\n\n    divUp.appendChild(aElement);\n\n    const divBottom = document.createElement('div');\n    divBottom.className = 'gallery-likes';\n    divBottom.innerHTML = `\n    <ul>\n        <li>Likes<br><span class=\"counter\">${likes}</span></li>\n        <li>Views<br><span class=\"counter\">${views}</span></li>\n        <li>Comments<br><span class=\"counter\">${comments}</span></li>\n        <li>Downloads<br><span class=\"counter\">${downloads}</span></li>\n    </ul>\n    `;\n\n    liElement.appendChild(divUp);\n    liElement.appendChild(divBottom);\n\n    return liElement;\n}\n","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport searchPicture from \"./js/pixabay-api\";\nimport { renderPictures, clearGallery } from \"./js/render-functions\";\n\n\nfunction showError(message) {\n    iziToast.error({\n        title: 'Error',\n        message: message,\n        position: 'topRight'\n    });\n}\n\ndocument.getElementById('search-form').addEventListener('submit', function (event) {\n    const errorMessage = 'Sorry, there are no images matching your search query. Please try again!';\n    event.preventDefault();\n    const searchQuery = document.getElementById('pixabay').value.trim();\n    if (searchQuery === '') {\n        showError(errorMessage);\n    } else {\n        document.getElementById('loading').style.display = 'block';\n        clearGallery();\n        searchPicture(searchQuery)\n            .then((pictures) => {\n                if (pictures.total !== 0) {\n                    renderPictures(pictures);\n                } else {\n                    showError(errorMessage);\n                }\n                document.getElementById('loading').style.display = 'none';\n            })\n            .catch((error) => showError('Error'));\n    }\n});\n"],"names":["searchPicture","keyword","API_KEY","API_URL","searchParams","response","renderPictures","images","htmlFragment","gallery","el","createGalleryItem","lightbox","SimpleLightbox","clearGallery","smallImg","largeImg","description","likes","views","comments","downloads","liElement","divUp","aElement","imgElement","divBottom","showError","message","iziToast","event","errorMessage","searchQuery","pictures","error"],"mappings":"6vBAAe,SAASA,EAAcC,EAAS,CAC3C,MAAMC,EAAU,qCACVC,EAAU,2BACVC,EAAe,IAAI,gBAAgB,CACrC,IAAKF,EACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EAED,OAAO,MAAM,GAAGE,CAAO,IAAIC,CAAY,EACtC,EACA,KAAMC,GAAa,CAChB,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,MACxB,CAAK,CACL,CCfO,SAASC,EAAeC,EAAQ,CACnC,MAAMC,EAAe,SAAS,yBACxBC,EAAU,SAAS,cAAc,YAAY,EAEnDF,EAAO,KAAK,QAAQG,GAAM,CACtBF,EAAa,YAAYG,EAAkBD,EAAG,aAAcA,EAAG,cAAeA,EAAG,KAAMA,EAAG,MAAOA,EAAG,MAAOA,EAAG,SAAUA,EAAG,SAAS,CAAC,CAC7I,CAAK,EAEDD,EAAQ,YAAYD,CAAY,EAEhC,IAAII,EAAW,IAAIC,EAAe,aAAc,CAC9C,SAAU,GACV,aAAc,IACd,aAAc,KACpB,CAAK,EAEDD,EAAS,QAAO,CACpB,CAEO,SAASE,GAAe,CAC3B,MAAML,EAAU,SAAS,cAAc,YAAY,EACnDA,EAAQ,UAAY,EACxB,CAEA,SAASE,EAAkBI,EAAUC,EAAUC,EAAaC,EAAOC,EAAOC,EAAUC,EAAW,CAC3F,MAAMC,EAAY,SAAS,cAAc,IAAI,EAC7CA,EAAU,UAAY,eAEtB,MAAMC,EAAQ,SAAS,cAAc,KAAK,EAC1CA,EAAM,UAAY,iBAElB,MAAMC,EAAW,SAAS,cAAc,GAAG,EAC3CA,EAAS,UAAY,eACrBA,EAAS,KAAOR,EAEhB,MAAMS,EAAa,SAAS,cAAc,KAAK,EAC/CA,EAAW,UAAY,gBACvBA,EAAW,IAAMV,EACjBU,EAAW,IAAMR,EACjBO,EAAS,YAAYC,CAAU,EAE/BF,EAAM,YAAYC,CAAQ,EAE1B,MAAME,EAAY,SAAS,cAAc,KAAK,EAC9C,OAAAA,EAAU,UAAY,gBACtBA,EAAU,UAAY;AAAA;AAAA,6CAEmBR,CAAK;AAAA,6CACLC,CAAK;AAAA,gDACFC,CAAQ;AAAA,iDACPC,CAAS;AAAA;AAAA,MAItDC,EAAU,YAAYC,CAAK,EAC3BD,EAAU,YAAYI,CAAS,EAExBJ,CACX,CCvDA,SAASK,EAAUC,EAAS,CACxBC,EAAS,MAAM,CACX,MAAO,QACP,QAASD,EACT,SAAU,UAClB,CAAK,CACL,CAEA,SAAS,eAAe,aAAa,EAAE,iBAAiB,SAAU,SAAUE,EAAO,CAC/E,MAAMC,EAAe,2EACrBD,EAAM,eAAc,EACpB,MAAME,EAAc,SAAS,eAAe,SAAS,EAAE,MAAM,OACzDA,IAAgB,GAChBL,EAAUI,CAAY,GAEtB,SAAS,eAAe,SAAS,EAAE,MAAM,QAAU,QACnDjB,IACAd,EAAcgC,CAAW,EACpB,KAAMC,GAAa,CACZA,EAAS,QAAU,EACnB3B,EAAe2B,CAAQ,EAEvBN,EAAUI,CAAY,EAE1B,SAAS,eAAe,SAAS,EAAE,MAAM,QAAU,MACnE,CAAa,EACA,MAAOG,GAAUP,EAAU,OAAO,CAAC,EAEhD,CAAC"}